<link rel="import" href="site-layout.html">
<link rel="import" href="paste-service.html">
<link rel="import" href="paste-bin.html">
<link rel="import" href="paste-list.html">
<link rel="import" href="mr-hankey.html">
<script src="../bower_components/qrjs/qr.js"></script>
<script src="../bower_components/webcomponent-qr-code/src/qr-code.js"></script>

<polymer-element name="paste-page" attributes="pasteid">
  <template>
    <paste-service paste="{{paste}}" query="post/{{pasteid}}" error="{{error}}"></paste-service>
    <site-layout>
      <qr-code layout horizontal center-justified data="{{qrdata}}" modulesize="6"></qr-code>
      <template if="{{!error}}" bind="{{paste}}">
        <paste-bin paste="{{content}}" timestamp="{{timestamp}}"></paste-bin>
      </template>
      <mr-hankey hidden?="{{!error}}"></mr-hankey>
      <paste-list></paste-list>
    </site-layout>
  </template>
  <script>
    Polymer ({
      created: function() {
        this.qrdata = window.location.href;
      },
    });
  </script>
</polymer-element>
